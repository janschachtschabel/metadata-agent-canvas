<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metadata Agent - Sidebar Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            height: 100vh;
            overflow: hidden;
            background: #f5f5f5;
        }

        .container {
            display: flex;
            height: 100vh;
        }

        /* Main Content Area */
        .main-content {
            flex: 1;
            padding: 40px;
            overflow-y: auto;
            background: #ffffff;
        }

        .main-content h1 {
            color: #333;
            margin-bottom: 20px;
            font-size: 32px;
        }

        .main-content p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 15px;
            max-width: 700px;
        }

        .sample-content {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
        }

        .sample-content h2 {
            color: #444;
            margin-bottom: 15px;
            font-size: 24px;
        }

        .sample-content ul {
            list-style: none;
            padding-left: 0;
        }

        .sample-content li {
            padding: 10px;
            margin-bottom: 8px;
            background: white;
            border-left: 3px solid #4CAF50;
            border-radius: 4px;
        }

        /* Sidebar (Right Panel) */
        .sidebar {
            width: 700px;
            min-width: 700px;
            max-width: 700px;
            background: #fff;
            border-left: 1px solid #e0e0e0;
            box-shadow: -2px 0 8px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .sidebar-content {
            flex: 1;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* iframe for Angular app */
        #metadata-agent-frame {
            width: 100%;
            height: 100%;
            border: none;
            flex: 1;
        }

        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #999;
            font-size: 14px;
        }

        .loading:before {
            content: "‚è≥";
            margin-right: 8px;
            font-size: 20px;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .sidebar {
                width: 450px;
                min-width: 450px;
                max-width: 450px;
            }
        }

        @media (max-width: 900px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                min-width: 100%;
                max-width: 100%;
                height: 60vh;
                border-left: none;
                border-top: 1px solid #e0e0e0;
            }

            .main-content {
                height: 40vh;
                overflow-y: auto;
            }
        }

    </style>
</head>
<body>
    <div class="container">
        <!-- Main Content Area -->
        <div class="main-content">
            <h1>üìö Metadata Agent - Canvas Edition</h1>
            <p>
                Dies ist eine Test-Seite f√ºr die Metadata Agent Webkomponente in einem realistischen Sidebar-Layout.
                Die Komponente wird rechts in einer Seitenleiste angezeigt, wie sie in einer echten Anwendung verwendet werden w√ºrde.
            </p>
            
            <div class="sample-content">
                <h2>‚ú® Features der Canvas-Edition</h2>
                <ul>
                    <li>‚ö° <strong>Parallele Extraktion:</strong> 6-10 Sekunden statt 40-50 Sekunden</li>
                    <li>üé® <strong>Canvas-UI:</strong> Alle Felder gleichzeitig sichtbar</li>
                    <li>üìä <strong>Live-Updates:</strong> Echtzeit-Streaming w√§hrend der Extraktion</li>
                    <li>‚úèÔ∏è <strong>Inline-Editing:</strong> Direkte Feldbearbeitung mit Autocomplete</li>
                    <li>üîÑ <strong>Automatische Normalisierung:</strong> Datumsformate, URLs, Vokabulare</li>
                    <li>üéì <strong>Content-Type-Erkennung:</strong> Event, Kurs, Material, etc.</li>
                    <li>‚úÖ <strong>Validierung:</strong> Pflichtfelder, Vokabulare, Datentypen</li>
                </ul>
            </div>

            <div class="sample-content" style="margin-top: 20px;">
                <h2>üöÄ Schnellstart</h2>
                <ul>
                    <li><strong>1.</strong> Stellen Sie sicher, dass der Dev-Server l√§uft: <code>npm start</code></li>
                    <li><strong>2.</strong> Geben Sie Ihren OpenAI API-Key ein (einmalig)</li>
                    <li><strong>3.</strong> Beschreiben Sie eine Ressource im Textfeld</li>
                    <li><strong>4.</strong> Klicken Sie "Extraktion starten"</li>
                    <li><strong>5.</strong> Beobachten Sie die parallele Feld-Extraktion ‚ö°</li>
                    <li><strong>6.</strong> Bearbeiten Sie Felder bei Bedarf inline</li>
                    <li><strong>7.</strong> Laden Sie das JSON herunter</li>
                </ul>
            </div>

            <div class="sample-content" style="margin-top: 20px;">
                <h2>üí° Muster-Text f√ºr Test</h2>
                <div style="background: white; padding: 15px; border-radius: 4px; border: 1px solid #e0e0e0; line-height: 1.8; color: #333;">
                    <p style="margin-bottom: 12px;">
                        Die Tagung <strong>Zukunft der Hochschullehre</strong> findet vom 15. bis 16. September 2026 an der Universit√§t Potsdam statt. 
                        Im Mittelpunkt stehen innovative Lehrformate, digitale Pr√ºfungen und KI-gest√ºtzte Lernumgebungen.
                    </p>
                    <p style="margin-bottom: 12px;">
                        Die Veranstaltung richtet sich an Lehrende, Studiengangsverantwortliche und Hochschuldidaktiker:innen.
                    </p>
                    <p style="margin-bottom: 12px;">
                        Neben Fachvortr√§gen von Expert:innen aus Deutschland und √ñsterreich gibt es praxisorientierte Workshops und eine Poster-Session.
                    </p>
                    <p style="margin-bottom: 12px;">
                        Veranstalter ist das Zentrum f√ºr Qualit√§tsentwicklung in Lehre und Studium (ZfQ).
                    </p>
                    <p style="margin-bottom: 12px;">
                        Die Teilnahme kostet 120 ‚Ç¨, erm√§√üigt 60 ‚Ç¨ f√ºr Studierende. Eine Anmeldung ist bis 20. August √ºber die Website der Universit√§t m√∂glich.
                    </p>
                    <p style="margin: 0;">
                        F√ºr Interessierte, die nicht vor Ort sein k√∂nnen, werden ausgew√§hlte Programmpunkte live gestreamt.
                    </p>
                </div>
                <p style="margin-top: 10px; font-size: 13px; color: #666;">
                    üí° <strong>Tipp:</strong> Kopieren Sie diesen Text und f√ºgen Sie ihn in die Webkomponente rechts ein.
                </p>
            </div>

            <div class="sample-content" style="margin-top: 20px;">
                <h2>üéØ Weitere Test-Szenarien</h2>
                <ul>
                    <li><strong>Kurs:</strong> "Online-Kurs: Einf√ºhrung in Machine Learning, 6 Wochen"</li>
                    <li><strong>Material:</strong> "Lernvideo: Python Grundlagen f√ºr Anf√§nger, 45 Minuten"</li>
                    <li><strong>Person:</strong> "Prof. Dr. Maria Schneider, Expertin f√ºr Data Science"</li>
                </ul>
            </div>

            <div class="sample-content" style="margin-top: 20px; background: #fff3cd; border-left: 3px solid #ffc107;">
                <h2>‚ö†Ô∏è Hinweise</h2>
                <ul style="list-style: disc; padding-left: 20px;">
                    <li>Die Angular-App muss unter <code>http://localhost:4200</code> laufen</li>
                    <li>√ñffnen Sie die Browser-Console (F12) f√ºr detaillierte Logs</li>
                    <li>Die Sidebar ist optimiert f√ºr Desktop-Bildschirme (>900px)</li>
                    <li>Auf mobilen Ger√§ten wird die Sidebar unter dem Content angezeigt</li>
                </ul>
            </div>
        </div>

        <!-- Sidebar with Angular App -->
        <div class="sidebar">
            <div class="sidebar-content">
                <iframe 
                    id="metadata-agent-frame" 
                    src="/index.html"
                    title="Metadata Agent Canvas">
                    <div class="loading">Angular App wird geladen...</div>
                </iframe>
            </div>
        </div>
    </div>

    <script>
        // iframe load status
        const iframe = document.getElementById('metadata-agent-frame');

        iframe.addEventListener('load', function() {
            console.log('‚úÖ Metadata Agent loaded successfully');
        });

        iframe.addEventListener('error', function() {
            console.error('‚ùå Failed to load Metadata Agent');
        });

        // Log resize events
        window.addEventListener('resize', function() {
            console.log('üìê Window resized:', window.innerWidth + 'x' + window.innerHeight);
        });

        console.log('üöÄ Sidebar test page loaded');
        console.log('üìç iframe source:', iframe.src);
    </script>
</body>
</html>
